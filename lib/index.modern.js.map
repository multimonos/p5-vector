{"version":3,"file":"index.modern.js","sources":["../src/Vector.js"],"sourcesContent":["import p5 from 'p5'\nimport {\n    curry,\n    concat,\n    flatten,\n    head,\n    map,\n    merge,\n    pipe,\n    reduce,\n    tail,\n    tap,\n    toString,\n    lensProp,\n} from \"ramda\";\n\nconst v = p5.Vector\n\n// helper methods\nconst trace = pipe( toString, concat( 'trace: ' ), tap( console.log ) )\nconst first = pipe( flatten, head )\nconst other = pipe( flatten, tail ) // everthing except the first\nconst xLens = lensProp( 'x' )\nconst yLens = lensProp( 'y' )\nconst zLens = lensProp( 'z' )\n\n// constructors\nv.create = ( ...args ) => new v( ...args )\nv.of = k => v.create( k, k, k )\nv.of2 = k => v.create( k, k )\nv.ofx = k => v.create( k )\nv.ofy = k => v.create( 0, k )\nv.ofz = k => v.create( 0, 0, k )\n\n// convenience\nv.zero = () => v.of( 0 )\nv.null = () => v.of( null )\nv.i2 = () => v.of2( 1 )\nv.i3 = () => v.of( 1 )\nv.ix = () => new v( 1, 0, 0 )\nv.iy = () => new v( 0, 1, 0 )\nv.iz = () => new v( 0, 0, 1 )\nv.array = () => v.of( [] )\nv.obj = () => v.of( {} )\n\n//convenience prototype methods\nv.prototype.half = function() { return v.mult( this, 0.5 ) }\nv.prototype.double = function() { return v.mult( this, 2 ) }\n\n\n//apply\nv.apply = curry( ( fnv, v ) => pipe( v.copy, trace ) ) //@todo\n\n//copy\nv.copy = a => new v( a.x, a.y, a.z )\n\n//neg*\nv.neg = v => v.copy().mult( -1 )\nv.negn = ( ...args ) => pipe( flatten, map( v.neg ) )( args )\nv.prototype.neg = function() {\n    return v.neg( this.copy() )\n}\n\n//add*\nv.addn = ( ...args ) => pipe( flatten, reduce( v.add, v.zero() ) )( args )\nv.prototype.addn = function( ...args ) {\n    return pipe( flatten, reduce( v.add, this.copy() ) )( args )\n}\n\n//sub*\nv.subn = ( ...args ) => reduce( v.sub, first( args ), other( args ) )\nv.prototype.subn = function( ...args ) {\n    return reduce( v.sub, this.copy(), flatten( args ) )\n}\n\n//scale*\nv.scale = curry( ( a, b ) => { // scale b with a\n    const copy = b.copy()\n    copy.x *= a.x\n    copy.y *= a.y\n    copy.z *= a.z\n    return copy\n} )\nv.scalen = ( ...args ) => reduce( v.scale, first( args ), other( args ) )\nv.prototype.scale = function( ...args ) {\n    return reduce( v.scale, this.copy(), flatten( args ) )\n}\nv.prototype.scalen = v.prototype.scale\n\n\n// new methods\nv.subdivide = pointCount => a => b => { // a, b : p5.vec\n    // add \"pointCount\" more points, \"pointCount + 1\" line segments\n    const dx = 1 / (pointCount + 1)\n    const pnts = []\n    for (let i = 1; i <= pointCount; i++) {\n        pnts.push( p5.Vector.lerp( a, b, i * dx ) )\n    }\n    return pnts\n}\n\n\n// console.log( v.null() )\n// console.log( v )\n\n\nexport { v as default }"],"names":["v","p5","Vector","trace","pipe","toString","concat","tap","console","log","first","flatten","head","other","tail","lensProp","create","args","of","k","of2","ofx","ofy","ofz","zero","null","i2","i3","ix","iy","iz","array","obj","prototype","half","mult","this","double","apply","curry","fnv","copy","a","x","y","z","neg","negn","map","addn","reduce","add","subn","sub","scale","b","scalen","subdivide","pointCount","dx","pnts","i","push","lerp"],"mappings":"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"}