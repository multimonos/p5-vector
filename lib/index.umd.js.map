{"version":3,"file":"index.umd.js","sources":["../src/Vector.js"],"sourcesContent":["import p5 from 'p5'\nimport {\n    curry,\n    concat,\n    flatten,\n    head,\n    map,\n    merge,\n    pipe,\n    reduce,\n    tail,\n    tap,\n    toString,\n    lensProp,\n} from \"ramda\";\n\nconst v = p5.Vector\n\n// helper methods\nconst trace = pipe( toString, concat( 'trace: ' ), tap( console.log ) )\nconst first = pipe( flatten, head )\nconst other = pipe( flatten, tail ) // everthing except the first\nconst xLens = lensProp( 'x' )\nconst yLens = lensProp( 'y' )\nconst zLens = lensProp( 'z' )\n\n// constructors\nv.create = ( ...args ) => new v( ...args )\nv.of = k => v.create( k, k, k )\nv.of2 = k => v.create( k, k )\nv.ofx = k => v.create( k )\nv.ofy = k => v.create( 0, k )\nv.ofz = k => v.create( 0, 0, k )\n\n// convenience\nv.zero = () => v.of( 0 )\nv.null = () => v.of( null )\nv.i2 = () => v.of2( 1 )\nv.i3 = () => v.of( 1 )\nv.ix = () => new v( 1, 0, 0 )\nv.iy = () => new v( 0, 1, 0 )\nv.iz = () => new v( 0, 0, 1 )\nv.array = () => v.of( [] )\nv.obj = () => v.of( {} )\n\n//convenience prototype methods\nv.prototype.half = function() { return v.mult( this, 0.5 ) }\nv.prototype.double = function() { return v.mult( this, 2 ) }\n\n\n//apply\nv.apply = curry( ( fnv, v ) => pipe( v.copy, trace ) ) //@todo\n\n//copy\nv.copy = a => new v( a.x, a.y, a.z )\n\n//neg*\nv.neg = v => v.copy().mult( -1 )\nv.negn = ( ...args ) => pipe( flatten, map( v.neg ) )( args )\nv.prototype.neg = function() {\n    return v.neg( this.copy() )\n}\n\n//add*\nv.addn = ( ...args ) => pipe( flatten, reduce( v.add, v.zero() ) )( args )\nv.prototype.addn = function( ...args ) {\n    return pipe( flatten, reduce( v.add, this.copy() ) )( args )\n}\n\n//sub*\nv.subn = ( ...args ) => reduce( v.sub, first( args ), other( args ) )\nv.prototype.subn = function( ...args ) {\n    return reduce( v.sub, this.copy(), flatten( args ) )\n}\n\n//scale*\nv.scale = curry( ( a, b ) => { // scale b with a\n    const copy = b.copy()\n    copy.x *= a.x\n    copy.y *= a.y\n    copy.z *= a.z\n    return copy\n} )\nv.scalen = ( ...args ) => reduce( v.scale, first( args ), other( args ) )\nv.prototype.scale = function( ...args ) {\n    return reduce( v.scale, this.copy(), flatten( args ) )\n}\nv.prototype.scalen = v.prototype.scale\n\n\n// new methods\nv.subdivide = pointCount => a => b => { // a, b : p5.vec\n    // add \"pointCount\" more points, \"pointCount + 1\" line segments\n    const dx = 1 / (pointCount + 1)\n    const pnts = []\n    for (let i = 1; i <= pointCount; i++) {\n        pnts.push( p5.Vector.lerp( a, b, i * dx ) )\n    }\n    return pnts\n}\n\n\n// console.log( v.null() )\n// console.log( v )\n\n\nexport { v as default }"],"names":["v","p5","Vector","trace","pipe","toString","concat","tap","console","log","first","flatten","head","other","tail","lensProp","create","of","k","of2","ofx","ofy","ofz","zero","null","i2","i3","ix","iy","iz","array","obj","prototype","half","mult","this","double","apply","curry","fnv","copy","a","x","y","z","neg","negn","map","addn","reduce","add","subn","args","sub","scale","b","scalen","subdivide","pointCount","dx","pnts","i","push","lerp"],"mappings":"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"}